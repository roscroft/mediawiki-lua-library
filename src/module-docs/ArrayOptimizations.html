{{Documentation}}
{{Helper module
|name = ArrayOptimizations

|fname1 = <nowiki>ArrayOpt.fast.filter(&nbsp;arr, fn&nbsp;)</nowiki>
|ftype1 = <samp>generic: T: any[]</samp><br><samp>arr: T</samp><br><samp>fn: function</samp><br><samp>-> T</samp>
|fuse1 = Fast filter with optimized predicate caching

|fname2 = <nowiki>ArrayOpt.fast.map(&nbsp;arr, fn, useMemo&nbsp;)</nowiki>
|ftype2 = <samp>generic: T: any[]</samp><br><samp>arr: T</samp><br><samp>fn: function</samp><br><samp>useMemo?: boolean</samp><br><samp>-> T</samp>
|fuse2 = Create performance-optimized versions of common operations

* Fast map operation with optional memoization for pure functions

|fname3 = <nowiki>ArrayOpt.benchmark(&nbsp;operation, iterations, warmup&nbsp;)</nowiki>
|ftype3 = <samp>fn: fun(...:</samp><br><samp>keyGenerator?: fun(...:</samp><br><samp>operation: function</samp><br><samp>iterations?: integer</samp><br><samp>warmup?: integer</samp><br><samp>-> table</samp>
|fuse3 = Memoize a function with array-aware key generation

* Benchmark utility for measuring array operation performance

|fname4 = <nowiki>ArrayOpt.clearCache(&nbsp;&nbsp;)</nowiki>
|ftype4 = <samp>arr: any[]</samp><br><samp>-> integer length</samp>
|fuse4 = Calculates the length of arrays including proxy arrays

* This function provides optimized length calculation for different array types:
** Standard arrays: Uses native # operator (O(1))
** Proxy arrays: Uses exponential search followed by binary search (O(log n))
** Empty arrays: Quick detection and return (O(1))
* Performance characteristics:
** Standard arrays with consecutive integer keys: O(1)
** Proxy arrays or arrays with holes: O(log n)
** Empty arrays: O(1) with early detection
* Examples:
<syntaxhighlight lang='lua'>
local std_array = {{({{)}}{{)}}1, 2, 3{{)}}  -- Standard array
local proxy_array = setmetatable({{({{)}}{{)}}[1] = 'a', [2] = 'b'{{)}}, proxy_mt)
print(len(std_array))    -- 3 (O(1) operation)
print(len(proxy_array))  -- 2 (O(log n) operation)
print(len({{({{)}}{{)}}{{)}}))           -- 0 (O(1) early detection)
</syntaxhighlight>
* Memoization cache for frequently called array operations
* Clear the memoization cache

|fname5 = <nowiki>ArrayOpt.getMemoryInfo(&nbsp;arr&nbsp;)</nowiki>
|ftype5 = <samp>arr: any[]</samp><br><samp>-> table</samp>
|fuse5 = Get memory usage statistics for an array

|example =
<syntaxhighlight lang='lua'>
    -- Example usage of ArrayOptimizations will be added manually
</syntaxhighlight>
}}